<!DOCTYPE html>
<html>

<head>
    <title>dBlog</title>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style/common.css">
    <link rel="stylesheet" type="text/css" href="style/index.css">
    <script src="scripts/superagent.js" type="text/javascript"></script>
    <script src="scripts/vue.js" type="text/javascript"></script>
    <script src="scripts/ui.js" type="text/javascript"></script>
</head>

<body>
    <template v-if="loaded">
        <nav>
            <a href="/" class="logo"></a>
        </nav>
        <main>
            <article v-for="article in collection" v-if="$index < limit">
                <img class="cover" v-bind:src="'data/' + article.id + '/cover.jpg'" v-on:click="view(article)">
                <div class="text">
                    <a class="title" :href="'article.html#' + article.id">{{{ article.title }}}</a>
                    <p class="date">{{{ article.date }}}</p>
                    <p>
                        {{{ article.preview }}}
                    </p>
                </div>
                <div class="bar">
                    <img class="author" :src="authors[article.author].image">
                    <span class="name">by {{{ authors[article.author].name }}}</span>
                    <span>in</span>
                    <a :href="'category.html#' + category" v-for="category in article.categories">
                      {{{$index < article.categories.length - 1 ? category + ', ' : category}}}
                    </a>
                </div>
            </article>
            <div class="more" v-if="limit < collection.length">
                <a class="icon" v-on:click="increase">expand_more</a>
			</div>
        </main>
    </template>
    <script src="scripts/blog.js" type="text/javascript"></script>
</body>

</html>
